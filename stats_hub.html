<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="Content-Security-Policy" content="default-src 'self'; style-src 'self' 'unsafe-inline'; font-src 'self'; img-src 'self' data:; script-src 'self' 'unsafe-inline'; connect-src 'self';">
<title>Stats Learning Hub</title>
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#00e5c7">
<link rel="stylesheet" href="styles/stats_hub.css" fetchpriority="high">
</head>
<body>

<!-- SKIP NAV -->
<div class="offline-banner" id="offlineBanner" style="display:none;" role="alert">üì° You're offline ‚Äî progress is saved locally</div>
<a class="skip-link" href="#main-content">Skip to main content</a>
<noscript>
  <p style="padding:40px;text-align:center;color:#e6e4f0;font-family:sans-serif;">
    This app requires JavaScript to run. Please enable JavaScript in your browser settings.
  </p>
</noscript>

<!-- TOP NAV -->
<nav class="top-nav" aria-label="Main navigation">
  <div class="nav-brand">Stats <em>Hub</em></div>
  <div class="nav-tabs" role="tablist" aria-label="Site sections">
    <button class="nav-tab active" id="tab-home" role="tab" aria-selected="true" aria-controls="page-home" onclick="goPage('home')">Home</button>
    <button class="nav-tab" id="tab-roadmap" role="tab" aria-selected="false" aria-controls="page-roadmap" onclick="goPage('roadmap')">Roadmap</button>
    <button class="nav-tab" id="tab-visualizer" role="tab" aria-selected="false" aria-controls="page-visualizer" onclick="goPage('visualizer')">Visualizer</button>
    <button class="nav-tab" id="tab-practice" role="tab" aria-selected="false" aria-controls="page-practice" onclick="goPage('practice')">Practice</button>
    <button class="nav-tab" id="tab-review" role="tab" aria-selected="false" aria-controls="page-review" onclick="goPage('review')">Review <span class="review-badge" id="reviewBadge" style="display:none;">0</span></button>
  </div>
  <div class="nav-right">
    <div class="progress-pill" role="status" aria-live="polite">Topics: <span id="topicCount">0</span> / <span id="topicTotal">0</span></div>
    <div class="nav-pill" id="streakPill" aria-label="Study streak">
      <span id="streakIcon">üî•</span>
      <span id="streakCount">0</span> day streak
    </div>
    <div class="nav-pill" id="xpPill" aria-label="Experience points">
      <span class="xp-level" id="xpLevel">Lv 1</span>
      <div class="xp-bar-mini">
        <div class="xp-bar-fill" id="xpBarFill"></div>
      </div>
      <span class="xp-total" id="xpTotal">0 XP</span>
    </div>
    <button class="theme-toggle" id="themeToggle" onclick="toggleTheme()" aria-label="Toggle light/dark theme">üåô</button>
  </div>
</nav>

<main id="main-content">

<!-- ==================== HOME ==================== -->
<section class="page active" id="page-home" role="tabpanel" aria-labelledby="tab-home">
  <header class="hero">
    <p class="hero-tag">College Intro Statistics</p>
    <h1>Stats Learning <em>Hub</em></h1>
    <p>Your all-in-one tool for learning statistics. Roadmap to track what to learn, interactive visualizations to build intuition, and practice problems to test your understanding.</p>
  </header>
  <div class="daily-digest" id="dailyDigest" style="display:none;">
    <div class="digest-row">
      <div class="digest-stat">
        <span class="digest-num" id="digestStreak">0</span>
        <span class="digest-label">Day Streak</span>
      </div>
      <div class="digest-stat">
        <span class="digest-num" id="digestXP">0</span>
        <span class="digest-label">Total XP</span>
      </div>
      <div class="digest-stat">
        <span class="digest-num" id="digestLevel">1</span>
        <span class="digest-label">Level</span>
      </div>
      <div class="digest-stat">
        <span class="digest-num" id="digestDue">0</span>
        <span class="digest-label">Cards Due</span>
      </div>
      <div class="digest-stat">
        <span class="digest-num" id="digestBadges">0</span>
        <span class="digest-label">Badges</span>
      </div>
    </div>
    <div class="digest-cta" id="digestCTA">
      <!-- Single recommended action button inserted by JS -->
    </div>
    <div class="digest-next-milestone" id="digestMilestone">
      <!-- Next unlockable milestone shown here -->
    </div>
  </div>
  <div class="home-cards">
    <div class="home-card card-roadmap" onclick="goPage('roadmap')" role="button" tabindex="0" aria-label="Open Quant Roadmap" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();goPage('roadmap')}">
      <div class="card-icon" aria-hidden="true">&#x1f5fa;</div>
      <div class="card-title">Quant Roadmap</div>
      <div class="card-desc">Six pillars across three levels ‚Äî from algebra and basic probability all the way to stochastic calculus and reinforcement learning. Track your progress with checkboxes.</div>
      <div class="card-meta">6 pillars &middot; 3 levels &middot; 80+ topics</div>
    </div>
    <div class="home-card card-viz" onclick="goPage('visualizer')" role="button" tabindex="0" aria-label="Open Interactive Visualizer" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();goPage('visualizer')}">
      <div class="card-icon" aria-hidden="true">&#x1f4ca;</div>
      <div class="card-title">Interactive Visualizer</div>
      <div class="card-desc">Drag sliders and watch distributions change in real time. Z-scores, scatterplots, sampling, Venn diagrams, binomial, CLT, confidence intervals, and more ‚Äî all interactive.</div>
      <div class="card-meta">14 tools &middot; 14 units &middot; Real-time updates</div>
    </div>
    <div class="home-card card-practice" onclick="goPage('practice')" role="button" tabindex="0" aria-label="Open Practice Problems" onkeydown="if(event.key==='Enter'||event.key===' '){event.preventDefault();goPage('practice')}">
      <div class="card-icon" aria-hidden="true">&#x270f;</div>
      <div class="card-title">Practice Problems</div>
      <div class="card-desc">145+ problems across 14 units ‚Äî from descriptive stats to Bayesian statistics. Multiple choice and free response with detailed step-by-step explanations.</div>
      <div class="card-meta">145+ problems &middot; 14 units &middot; 3 difficulty levels</div>
    </div>
  </div>
</section>

<!-- ==================== ROADMAP ==================== -->
<section class="page" id="page-roadmap" role="tabpanel" aria-labelledby="tab-roadmap">
  <header class="section-header">
    <p class="section-tag">An improved learning path</p>
    <h2 class="section-title">The Quant <em>Roadmap</em></h2>
    <p class="section-desc">Six pillars, three levels. Track your progress as you go.</p>
  </header>
  <div class="improvements-card">
    <h3 class="improvements-title">Improvements over the original</h3>
    <ul class="improvement-list" role="list">
      <li class="improvement-item"><span class="marker" aria-hidden="true">+</span> Monte Carlo, numerical methods, market microstructure</li>
      <li class="improvement-item"><span class="marker" aria-hidden="true">+</span> Data engineering, SQL, real-world pipelines</li>
      <li class="improvement-item"><span class="marker" aria-hidden="true">+</span> Measure theory bridging to stochastic calculus</li>
      <li class="improvement-item"><span class="marker" aria-hidden="true">+</span> Timelines and recommended resources per section</li>
      <li class="improvement-item"><span class="marker" aria-hidden="true">~</span> Rebalanced ML weight; reframed finance critique</li>
      <li class="improvement-item"><span class="marker" aria-hidden="true">+</span> New 6th pillar: Infrastructure &amp; Systems</li>
    </ul>
  </div>
  <div class="sub-tabs" id="roadmapTabs" role="tablist" aria-label="Roadmap levels">
    <button class="sub-tab active" id="rm-tab-l1" role="tab" aria-selected="true" aria-controls="rm-l1" onclick="showSub('rm','l1',this)">Level 1</button>
    <button class="sub-tab" id="rm-tab-l2" role="tab" aria-selected="false" aria-controls="rm-l2" onclick="showSub('rm','l2',this)">Level 2</button>
    <button class="sub-tab" id="rm-tab-l3" role="tab" aria-selected="false" aria-controls="rm-l3" onclick="showSub('rm','l3',this)">Level 3</button>
    <button class="sub-tab" id="rm-tab-roles" role="tab" aria-selected="false" aria-controls="rm-roles" onclick="showSub('rm','roles',this)">Roles</button>
  </div>
  <div id="rm-panels"></div>
</section>

<!-- ==================== VISUALIZER ==================== -->
<section class="page" id="page-visualizer" role="tabpanel" aria-labelledby="tab-visualizer">
  <header class="section-header">
    <p class="section-tag" id="vizUnitTag">Unit 1 ‚Äî Descriptive Statistics</p>
    <h2 class="section-title">Interactive <em>Visualizer</em></h2>
    <p class="section-desc">Play with data, build intuition. Everything updates in real time.</p>
  </header>
  <div class="unit-selector">
    <label class="cl" for="vizUnitSelect">UNIT</label>
    <select id="vizUnitSelect" onchange="setUnit(+this.value)">
      <option value="1">Unit 1: Descriptive Statistics</option>
      <option value="2">Unit 2: Normal Distribution</option>
      <option value="3">Unit 3: Bivariate Data</option>
      <option value="4">Unit 4: Sampling &amp; Design</option>
      <option value="5">Unit 5: Probability</option>
      <option value="6">Unit 6: Random Variables</option>
      <option value="7">Unit 7: Sampling Distributions</option>
      <option value="8">Unit 8: Confidence Intervals</option>
      <option value="9">Unit 9: Hypothesis Testing</option>
      <option value="10">Unit 10: Chi-Square Tests</option>
      <option value="11">Unit 11: Regression Inference</option>
    </select>
  </div>
  <div class="sub-tabs" id="vizTabs" role="tablist" aria-label="Visualizer tools">
    <button class="sub-tab active" id="viz-tab-hist" role="tab" aria-selected="true" aria-controls="viz-hist" onclick="showSub('viz','hist',this)">Histogram</button>
    <button class="sub-tab" id="viz-tab-box" role="tab" aria-selected="false" aria-controls="viz-box" onclick="showSub('viz','box',this)">Boxplot</button>
    <button class="sub-tab" id="viz-tab-norm" role="tab" aria-selected="false" aria-controls="viz-norm" onclick="showSub('viz','norm',this)">Normal Curve</button>
    <button class="sub-tab" id="viz-tab-comp" role="tab" aria-selected="false" aria-controls="viz-comp" onclick="showSub('viz','comp',this)">Compare</button>
  </div>
  <div id="viz-panels">
    <!-- Histogram -->
    <div class="sub-panel active" id="viz-hist" role="tabpanel" aria-labelledby="viz-tab-hist">
      <div class="viz-box">
        <h3 class="viz-title">Interactive Histogram</h3>
        <div class="viz-desc">See how shape, center, and spread change as you modify the data.</div>
        <canvas id="histCanvas" height="300" aria-label="Histogram visualization" role="img"></canvas>
        <div class="stats-row" aria-label="Histogram statistics">
          <div class="sc"><div class="sv sv-cyan" id="hMean">‚Äî</div><div class="sl">Mean</div></div>
          <div class="sc"><div class="sv sv-amber" id="hMedian">‚Äî</div><div class="sl">Median</div></div>
          <div class="sc"><div class="sv sv-pink" id="hMode">‚Äî</div><div class="sl">Mode</div></div>
          <div class="sc"><div class="sv sv-purple" id="hSD">‚Äî</div><div class="sl">Std Dev</div></div>
          <div class="sc"><div class="sv sv-green" id="hIQR">‚Äî</div><div class="sl">IQR</div></div>
          <div class="sc"><div class="sv sv-orange" id="hRange">‚Äî</div><div class="sl">Range</div></div>
        </div>
        <div class="controls">
          <div class="cg"><label class="cl" for="histPreset">Preset</label><select id="histPreset" onchange="loadPreset()"><option value="symmetric">Symmetric</option><option value="right">Right skewed</option><option value="left">Left skewed</option><option value="bimodal">Bimodal</option><option value="uniform">Uniform</option></select></div>
          <div class="cg"><label class="cl" for="binSlider">Bins</label><input type="range" id="binSlider" min="3" max="25" value="10" oninput="drawHist()"></div>
          <div class="cg"><label class="cl" for="sizeSlider">Sample size</label><input type="range" id="sizeSlider" min="20" max="500" value="100" oninput="loadPreset()"></div>
        </div>
        <div class="data-row">
          <input type="text" id="customData" placeholder="Or enter your own: 2, 5, 7, 3, 9, 12..." aria-label="Custom data input">
          <button class="btn-a" onclick="loadCustom()" style="padding:8px 16px;border-radius:6px;cursor:pointer;border:1px solid rgba(6,182,212,0.3);background:var(--cyan-g);color:var(--cyan);font-size:13px;">Load</button>
        </div>
      </div>
      <div class="explain"><h3>What to notice</h3><p>The <strong style="color:var(--cyan)">mean</strong> is pulled toward the tail in skewed data. The <strong style="color:var(--amber)">median</strong> resists outliers. When mean > median ‚Üí right-skewed. When mean < median ‚Üí left-skewed.</p><div class="formula">Mean = Œ£x·µ¢ / n &nbsp;&nbsp; Median = middle value when sorted</div></div>
    </div>

    <!-- Boxplot -->
    <div class="sub-panel" id="viz-box" role="tabpanel" aria-labelledby="viz-tab-box">
      <div class="viz-box">
        <h3 class="viz-title">Five-Number Summary & Boxplot</h3>
        <div class="viz-desc">Min, Q1, median, Q3, max. Drag the slider to add outliers.</div>
        <canvas id="boxCanvas" height="260" aria-label="Boxplot visualization" role="img"></canvas>
        <div class="stats-row" aria-label="Boxplot statistics">
          <div class="sc"><div class="sv sv-orange" id="bMin">‚Äî</div><div class="sl">Min</div></div>
          <div class="sc"><div class="sv sv-green" id="bQ1">‚Äî</div><div class="sl">Q1</div></div>
          <div class="sc"><div class="sv sv-amber" id="bMed">‚Äî</div><div class="sl">Median</div></div>
          <div class="sc"><div class="sv sv-green" id="bQ3">‚Äî</div><div class="sl">Q3</div></div>
          <div class="sc"><div class="sv sv-orange" id="bMax">‚Äî</div><div class="sl">Max</div></div>
          <div class="sc"><div class="sv sv-green" id="bIQR">‚Äî</div><div class="sl">IQR</div></div>
        </div>
        <div class="controls">
          <div class="cg"><label class="cl" for="boxPreset">Dataset</label><select id="boxPreset" onchange="drawBox()"><option value="symmetric">Symmetric</option><option value="right">Right skewed</option><option value="outliers">Has outliers</option></select></div>
          <div class="cg"><label class="cl" for="outlierSlider">Add extreme value</label><input type="range" id="outlierSlider" min="0" max="100" value="0" oninput="drawBox()"></div>
        </div>
        <div class="legend"><div class="leg-i"><div class="leg-d" style="background:var(--cyan)" aria-hidden="true"></div>Box (Q1‚ÄìQ3)</div><div class="leg-i"><div class="leg-d" style="background:var(--amber)" aria-hidden="true"></div>Median</div><div class="leg-i"><div class="leg-d" style="background:var(--dim)" aria-hidden="true"></div>Whiskers</div><div class="leg-i"><div class="leg-d" style="background:var(--pink);border-radius:50%" aria-hidden="true"></div>Outliers</div></div>
      </div>
      <div class="explain"><h3>How to read a boxplot</h3><p>The box spans Q1 to Q3 (middle 50%). Whiskers extend to the furthest non-outlier point. An outlier is anything beyond 1.5√óIQR from the box edges.</p><div class="formula">IQR = Q3 ‚àí Q1 &nbsp;&nbsp; Outlier if x &lt; Q1 ‚àí 1.5¬∑IQR or x &gt; Q3 + 1.5¬∑IQR</div></div>
    </div>

    <!-- Normal -->
    <div class="sub-panel" id="viz-norm" role="tabpanel" aria-labelledby="viz-tab-norm">
      <div class="viz-box">
        <h3 class="viz-title">The Normal Distribution</h3>
        <div class="viz-desc">Adjust Œº and œÉ. The shaded regions show the 68-95-99.7 rule.</div>
        <canvas id="normCanvas" height="340" aria-label="Normal distribution visualization" role="img"></canvas>
        <div class="controls">
          <div class="cg"><label class="cl" for="muSlider">Œº (mean) <span class="sv-val" id="muVal">0</span></label><input type="range" id="muSlider" min="-4" max="4" value="0" step="0.1" oninput="drawNorm()"></div>
          <div class="cg"><label class="cl" for="sigSlider">œÉ (std dev) <span class="sv-val" id="sigVal">1</span></label><input type="range" id="sigSlider" min="0.3" max="3" value="1" step="0.1" oninput="drawNorm()"></div>
          <div class="cg"><label class="cl" for="normRegion">Region</label><select id="normRegion" onchange="drawNorm()"><option value="none">None</option><option value="68" selected>68% (Œº¬±1œÉ)</option><option value="95">95% (Œº¬±2œÉ)</option><option value="997">99.7% (Œº¬±3œÉ)</option><option value="custom">Custom z</option></select></div>
          <div class="cg" id="zGrp" style="display:none"><label class="cl" for="zSlider">z <span class="sv-val" id="zVal">1.96</span></label><input type="range" id="zSlider" min="0" max="4" value="1.96" step="0.01" oninput="drawNorm()"></div>
        </div>
        <div class="stats-row" style="margin-top:14px" aria-label="Normal distribution statistics">
          <div class="sc"><div class="sv sv-cyan" id="nArea">68.3%</div><div class="sl">Shaded area</div></div>
          <div class="sc"><div class="sv sv-amber" id="nLeft">‚Äî</div><div class="sl">Left bound</div></div>
          <div class="sc"><div class="sv sv-purple" id="nRight">‚Äî</div><div class="sl">Right bound</div></div>
        </div>
      </div>
      <div class="explain"><h3>The 68-95-99.7 Rule</h3><p>In a normal distribution: <strong style="color:var(--cyan)">68%</strong> within 1œÉ, <strong style="color:var(--amber)">95%</strong> within 2œÉ, <strong style="color:var(--pink)">99.7%</strong> within 3œÉ. A z-score tells you how many standard deviations from the mean.</p><div class="formula">z = (x ‚àí Œº) / œÉ</div></div>
    </div>

    <!-- Compare -->
    <div class="sub-panel" id="viz-comp" role="tabpanel" aria-labelledby="viz-tab-comp">
      <div class="viz-box">
        <h3 class="viz-title">Compare Two Distributions</h3>
        <div class="viz-desc">Same mean, different spread? Same spread, different center? See how they're independent.</div>
        <canvas id="compCanvas" height="320" aria-label="Distribution comparison visualization" role="img"></canvas>
        <div class="controls">
          <div class="cg"><label class="cl" for="muAS">A: Œº <span class="sv-val" id="muA">0</span></label><input type="range" id="muAS" min="-4" max="4" value="0" step="0.1" oninput="drawComp()"></div>
          <div class="cg"><label class="cl" for="sigAS">A: œÉ <span class="sv-val" id="sigA">1</span></label><input type="range" id="sigAS" min="0.3" max="3" value="1" step="0.1" oninput="drawComp()"></div>
          <div class="cg"><label class="cl" for="muBS">B: Œº <span class="sv-val" id="muB">2</span></label><input type="range" id="muBS" min="-4" max="4" value="2" step="0.1" oninput="drawComp()"></div>
          <div class="cg"><label class="cl" for="sigBS">B: œÉ <span class="sv-val" id="sigB">0.7</span></label><input type="range" id="sigBS" min="0.3" max="3" value="0.7" step="0.1" oninput="drawComp()"></div>
        </div>
        <div class="legend" style="margin-top:14px"><div class="leg-i"><div class="leg-d" style="background:var(--cyan)" aria-hidden="true"></div>Distribution A</div><div class="leg-i"><div class="leg-d" style="background:var(--pink)" aria-hidden="true"></div>Distribution B</div></div>
      </div>
      <div class="explain"><h3>Center vs. Spread</h3><p>Set both œÉ equal and slide the means apart ‚Äî that's pure location shift. Then set means equal and change œÉ ‚Äî that's pure scale change. These are the two fundamental properties of any distribution.</p></div>
    </div>
  </div>
  <div id="viz-dynamic" style="display:none" role="tabpanel" aria-live="polite"></div>
  <div class="viz-practice-link">
    <button class="viz-practice-btn" onclick="goPage('practice');setUnit(1);">Practice Unit 1: Descriptive Statistics ‚Üí</button>
  </div>
</section>

<!-- ==================== PRACTICE ==================== -->
<section class="page" id="page-practice" role="tabpanel" aria-labelledby="tab-practice">
  <header class="section-header">
    <p class="section-tag" id="practiceUnitTag">Unit 1 ‚Äî Descriptive Statistics</p>
    <h2 class="section-title">Practice <em>Problems</em></h2>
    <p class="section-desc">Practice problems from easy to hard. Work them by hand, then check.</p>
    <button class="focus-btn" id="focusBtn" onclick="toggleFocusMode()" aria-label="Toggle focus mode">üéØ Focus Mode</button>
  </header>
  <div class="progress-panel" id="progressPanel">
    <button class="progress-toggle" id="progressToggle" aria-expanded="true" onclick="toggleProgressPanel()">Progress Overview &#9662;</button>
    <div class="progress-grid" id="progressGrid" role="status" aria-live="polite"></div>
    <div class="progress-actions" id="progressActions">
      <button class="share-btn" onclick="exportProgressJSON()">Export JSON</button>
      <button class="share-btn" onclick="copyProgressSummary()">Copy Summary</button>
      <label class="share-btn import-label">
        Import <input type="file" id="importFile" accept=".json" onchange="importProgressJSON(this.files[0])" hidden>
      </label>
      <button class="reset-btn" onclick="resetAllProgress()">Reset All Progress</button>
    </div>
    <div class="milestone-shelf" id="milestoneShelf">
      <h3 class="milestone-title">Badges</h3>
      <div class="milestone-grid" id="milestoneGrid"></div>
    </div>
    <div class="weakspot-panel" id="weakspotPanel">
      <h3 class="weakspot-title">üéØ Focus Areas</h3>
      <div id="weakspotList"></div>
    </div>
  </div>
  <div class="unit-selector">
    <label class="cl" for="unitSelect">UNIT</label>
    <select id="unitSelect" onchange="setUnit(+this.value)">
      <option value="1">Unit 1: Descriptive Statistics</option>
      <option value="2">Unit 2: Normal Distribution</option>
      <option value="3">Unit 3: Bivariate Data</option>
      <option value="4">Unit 4: Sampling &amp; Design</option>
      <option value="5">Unit 5: Probability</option>
      <option value="6">Unit 6: Random Variables</option>
      <option value="7">Unit 7: Sampling Distributions</option>
      <option value="8">Unit 8: Confidence Intervals</option>
      <option value="9">Unit 9: Hypothesis Testing</option>
      <option value="10">Unit 10: Chi-Square Tests</option>
      <option value="11">Unit 11: Regression Inference</option>
      <option value="12">Unit 12: ANOVA</option>
      <option value="13">Unit 13: Nonparametric Tests</option>
      <option value="14">Unit 14: Bayesian Statistics</option>
    </select>
  </div>
  <div class="score-bar" role="status" aria-live="polite">
    <div class="score-track" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"><div class="score-fill" id="scoreFill"></div></div>
    <div class="score-text" id="scoreText">0 / 15</div>
    <button class="reset-btn reset-unit-btn" onclick="resetUnit(currentUnit)">Reset Unit</button>
  </div>
  <div class="formula-panel" id="formulaPanel">
  <button class="formula-toggle" id="formulaToggle" onclick="toggleFormulas()" aria-expanded="false">
    üìê Formulas <span id="formulaArrow">‚ñ∏</span>
  </button>
  <div class="formula-content" id="formulaContent" style="display:none;"></div>
</div>
<div class="problems" id="probContainer" aria-label="Practice problems"></div>
</section>

<!-- ==================== REVIEW ==================== -->
<section class="page" id="page-review" role="tabpanel" aria-labelledby="tab-review">
  <header class="section-header">
    <p class="section-tag">Spaced Repetition</p>
    <h2 class="section-title">Review <em>Session</em></h2>
    <p class="section-desc" id="reviewDesc">Problems due for review will appear here.</p>
  </header>

  <div class="review-stats" id="reviewStats">
    <div class="review-stat">
      <span class="review-stat-num" id="reviewDueCount">0</span>
      <span class="review-stat-label">Due Today</span>
    </div>
    <div class="review-stat">
      <span class="review-stat-num" id="reviewTotalCount">0</span>
      <span class="review-stat-label">In Deck</span>
    </div>
    <div class="review-stat">
      <span class="review-stat-num" id="reviewMasteredCount">0</span>
      <span class="review-stat-label">Mastered</span>
    </div>
  </div>

  <div id="reviewContainer">
    <button class="start-review-btn" id="startReviewBtn" onclick="startReview()">
      Start Review Session
    </button>
  </div>

  <div id="reviewCard" style="display:none;">
    <div class="review-card-inner" id="reviewCardInner"></div>
    <div class="review-progress">
      <span id="reviewProgress">0 / 0</span>
    </div>
  </div>
</section>

<textarea id="shareOutput" aria-hidden="true" style="position:absolute;left:-9999px;top:0;"></textarea>
<div class="toast" id="toast" role="status" aria-live="polite"></div>
</main>

<!-- BOTTOM BAR -->
<footer class="bottom-bar" role="status" aria-live="polite" aria-label="Overall progress">
  <div class="bp-track" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"><div class="bp-fill" id="bpFill"></div></div>
  <div class="bp-text" id="bpText">0 / 0 topics</div>
</footer>

<div class="pomo-widget" id="pomoWidget">
  <button class="pomo-toggle" id="pomoToggle" onclick="togglePomoPanel()" aria-label="Toggle study timer">‚è±</button>
  <div class="pomo-panel" id="pomoPanel" style="display:none;">
    <div class="pomo-display" id="pomoDisplay">25:00</div>
    <div class="pomo-label" id="pomoLabel">Focus Time</div>
    <div class="pomo-controls">
      <button onclick="startPomo()" id="pomoStart">Start</button>
      <button onclick="pausePomo()" id="pomoPause" style="display:none;">Pause</button>
      <button onclick="resetPomo()" id="pomoReset">Reset</button>
    </div>
    <div class="pomo-presets">
      <button onclick="setPomoTime(15)" class="pomo-preset">15m</button>
      <button onclick="setPomoTime(25)" class="pomo-preset active">25m</button>
      <button onclick="setPomoTime(45)" class="pomo-preset">45m</button>
    </div>
    <div class="pomo-stats">
      <span id="pomoSessions">0</span> sessions today
    </div>
  </div>
</div>
<div class="shortcuts-overlay" id="shortcutsOverlay" style="display:none;" onclick="toggleShortcutsHelp()">
  <div class="shortcuts-modal" onclick="event.stopPropagation();">
    <h3>Keyboard Shortcuts</h3>
    <div class="shortcut-row"><kbd>1</kbd> Home</div>
    <div class="shortcut-row"><kbd>2</kbd> Roadmap</div>
    <div class="shortcut-row"><kbd>3</kbd> Visualizer</div>
    <div class="shortcut-row"><kbd>4</kbd> Practice</div>
    <div class="shortcut-row"><kbd>5</kbd> Review</div>
    <div class="shortcut-row"><kbd>T</kbd> Toggle Timer</div>
    <div class="shortcut-row"><kbd>D</kbd> Toggle Theme</div>
    <div class="shortcut-row"><kbd>?</kbd> This Help</div>
    <button onclick="toggleShortcutsHelp()">Close</button>
  </div>
</div>
<script src="scripts/stats_hub.js" defer></script>
<div class="install-banner" id="installBanner" style="display:none;">
  <span class="install-text">üì± Install Stats Hub for offline access</span>
  <button class="install-btn" id="installBtn" onclick="installPWA()">Install</button>
  <button class="install-dismiss" onclick="dismissInstall()" aria-label="Dismiss">‚úï</button>
</div>
</body>
</html>


